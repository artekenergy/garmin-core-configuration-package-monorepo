var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,o=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&r(e,n,t[n]);if(a)for(var n of a(t))i.call(t,n)&&r(e,n,t[n]);return e},d=(e,a)=>t(e,n(a));import{l as c,G as l}from"./vendor-azMIOUfB.js";import{d as u,u as h,a as p,b as m,A as f,y as g}from"./signals-hO7aJ5Gq.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var v=0;function y(e,t,n,a,s,i){t||(t={});var r,o,d=t;if("ref"in d)for(o in d={},t)"ref"==o?r=t[o]:d[o]=t[o];var l={type:e,props:d,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--v,__i:-1,__u:0,__source:s,__self:i};if("function"==typeof e&&(r=e.defaultProps))for(o in r)void 0===d[o]&&(d[o]=r[o]);return c.vnode&&c.vnode(l),l}const _=u(null),b=u(!1),x=u(null),k=48,w=49,S=128,N=5,T=0;class C{constructor(e={}){this.ws=null,this.shouldAutoReconnect=!0,this.reconnectTimer=null,this.reconnectAttempt=0,this.messageHandlers=[],this.openHandlers=[],this.closeHandlers=[],this.errorHandlers=[],this.config=o({autoConnect:!0,autoReconnect:!0,debug:!1},e),this.shouldAutoReconnect=!1!==this.config.autoReconnect,this.config.autoConnect&&this.connect()}getWebSocketUrl(){if(this.config.url)return this.config.url;return("https:"===window.location.protocol?"wss://":"ws://")+window.location.host+"/ws"}log(...e){this.config.debug}clearReconnectTimer(){null!==this.reconnectTimer&&(window.clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}scheduleReconnect(e){if(!this.shouldAutoReconnect)return void this.log("Auto-reconnect disabled; skipping reconnect",{code:e?e.code:null,reason:e?e.reason:null});this.reconnectAttempt=Math.min(this.reconnectAttempt+1,10);const t=Math.min(1e3*Math.pow(2,this.reconnectAttempt-1),3e4);this.log("Scheduling reconnect in "+Math.round(t/1e3)+"s",{code:e?e.code:null,reason:e?e.reason:""}),this.clearReconnectTimer(),this.reconnectTimer=window.setTimeout(()=>{this.reconnectTimer=null,this.connect()},t)}connect(){if(this.shouldAutoReconnect=!0,this.clearReconnectTimer(),this.ws&&(this.ws.readyState===WebSocket.OPEN||this.ws.readyState===WebSocket.CONNECTING))return void this.log("Already connected or connecting");const e=this.getWebSocketUrl();this.log("Connecting to",e);try{this.ws=new WebSocket(e)}catch(t){const e=t;return this.log("WebSocket constructor error:",e.message||e),void this.scheduleReconnect()}this.ws.addEventListener("open",()=>{this.reconnectAttempt=0,this.clearReconnectTimer(),this.log("WebSocket connected"),this.send({messagetype:w,messagecmd:1,size:3,data:[0,0,0]});const e=this.openHandlers.slice();for(let n=0;n<e.length;n++){const a=e[n];if(a)try{a()}catch(t){this.log("Error in open handler:",t)}}}),this.ws.addEventListener("message",e=>{try{const n=JSON.parse(e.data);this.log("Received message:",n),n.messagetype===k&&n.messagecmd===N&&this.send({messagetype:S,messagecmd:T,size:1,data:[0]});const a=this.messageHandlers.slice();for(let e=0;e<a.length;e++){const s=a[e];if(s)try{s(n)}catch(t){this.log("Error in message handler:",t)}}}catch(t){this.log("Failed to parse message:",e.data)}}),this.ws.addEventListener("error",e=>{this.log("WebSocket error:",e);const n=this.errorHandlers.slice();for(let a=0;a<n.length;a++){const e=n[a];if(e)try{e()}catch(t){this.log("Error in error handler:",t)}}}),this.ws.addEventListener("close",e=>{this.log("WebSocket closed",{code:e.code,reason:e.reason,wasClean:e.wasClean});const n=this.closeHandlers.slice();for(let a=0;a<n.length;a++){const e=n[a];if(e)try{e()}catch(t){this.log("Error in close handler:",t)}}this.scheduleReconnect(e)})}disconnect(){if(this.shouldAutoReconnect=!1,this.reconnectAttempt=0,this.clearReconnectTimer(),this.ws)try{this.ws.close(1e3,"client disconnect")}catch(e){this.log("Error closing WebSocket:",e)}}send(e){if(this.ws&&this.ws.readyState===WebSocket.OPEN)try{const t=JSON.stringify(e);this.ws.send(t),this.log("Sent message:",e)}catch(t){this.log("Send error:",t)}else this.log("Cannot send, WebSocket not open")}isConnected(){return null!==this.ws&&this.ws.readyState===WebSocket.OPEN}getState(){if(!this.ws)return"closed";switch(this.ws.readyState){case WebSocket.CONNECTING:return"connecting";case WebSocket.OPEN:return"open";case WebSocket.CLOSING:return"closing";case WebSocket.CLOSED:default:return"closed"}}onMessage(e){this.messageHandlers.push(e);const t=this;return function(){const n=t.messageHandlers.indexOf(e);n>-1&&t.messageHandlers.splice(n,1)}}onOpen(e){this.openHandlers.push(e);const t=this;return function(){const n=t.openHandlers.indexOf(e);n>-1&&t.openHandlers.splice(n,1)}}onClose(e){this.closeHandlers.push(e);const t=this;return function(){const n=t.closeHandlers.indexOf(e);n>-1&&t.closeHandlers.splice(n,1)}}onError(e){this.errorHandlers.push(e);const t=this;return function(){const n=t.errorHandlers.indexOf(e);n>-1&&t.errorHandlers.splice(n,1)}}subscribeToSignals(e){if(!e||0===e.length)return void this.log("No signals to subscribe");const t=[];for(let a=0;a<e.length;a++){const n=e[a];if("number"==typeof n){const e=255&n,a=n>>8&255;t.push(e,a)}}const n={messagetype:96,messagecmd:0,size:t.length,data:t};this.log("Subscribing to "+e.length+" signals"),this.send(n)}static extractSignalId(e){if(!e||e.length<2)return null;const t=e[0],n=e[1];return"number"!=typeof t||"number"!=typeof n?null:t|n<<8}}const O=new Map;function A(e){let t=O.get(e);return t||(t=u(null),O.set(e,t)),t}function Z(e,t){A(e).value={value:t,lastUpdated:Date.now()}}const j=u("disconnected");let E=null;function I(){return E}var R,$,P;($=R||(R={})).assertEqual=e=>{},$.assertIs=function(e){},$.assertNever=function(e){throw new Error},$.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},$.getValidEnumValues=e=>{const t=$.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(const a of t)n[a]=e[a];return $.objectValues(n)},$.objectValues=e=>$.objectKeys(e).map(function(t){return e[t]}),$.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},$.find=(e,t)=>{for(const n of e)if(t(n))return n},$.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,$.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},$.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(P||(P={})).mergeShapes=(e,t)=>o(o({},e),t);const z=R.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),M=e=>{switch(typeof e){case"undefined":return z.undefined;case"string":return z.string;case"number":return Number.isNaN(e)?z.nan:z.number;case"boolean":return z.boolean;case"function":return z.function;case"bigint":return z.bigint;case"symbol":return z.symbol;case"object":return Array.isArray(e)?z.array:null===e?z.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?z.promise:"undefined"!=typeof Map&&e instanceof Map?z.map:"undefined"!=typeof Set&&e instanceof Set?z.set:"undefined"!=typeof Date&&e instanceof Date?z.date:z.object;default:return z.unknown}},D=R.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class F extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(a);else if("invalid_return_type"===s.code)a(s.returnTypeError);else if("invalid_arguments"===s.code)a(s.argumentsError);else if(0===s.path.length)n._errors.push(t(s));else{let e=n,a=0;for(;a<s.path.length;){const n=s.path[a];a===s.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(s))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof F))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,R.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const a of this.issues)if(a.path.length>0){const n=a.path[0];t[n]=t[n]||[],t[n].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}F.create=e=>new F(e);const L=(e,t)=>{let n;switch(e.code){case D.invalid_type:n=e.received===z.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case D.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,R.jsonStringifyReplacer)}`;break;case D.unrecognized_keys:n=`Unrecognized key(s) in object: ${R.joinValues(e.keys,", ")}`;break;case D.invalid_union:n="Invalid input";break;case D.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${R.joinValues(e.options)}`;break;case D.invalid_enum_value:n=`Invalid enum value. Expected ${R.joinValues(e.options)}, received '${e.received}'`;break;case D.invalid_arguments:n="Invalid function arguments";break;case D.invalid_return_type:n="Invalid function return type";break;case D.invalid_date:n="Invalid date";break;case D.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:R.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case D.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case D.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case D.custom:n="Invalid input";break;case D.invalid_intersection_types:n="Intersection results could not be merged";break;case D.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case D.not_finite:n="Number must be finite";break;default:n=t.defaultError,R.assertNever(e)}return{message:n}};let W=L;function B(e,t){const n=W,a=(e=>{const{data:t,path:n,errorMaps:a,issueData:s}=e,i=[...n,...s.path||[]],r=d(o({},s),{path:i});if(void 0!==s.message)return d(o({},s),{path:i,message:s.message});let c="";const l=a.filter(e=>!!e).slice().reverse();for(const o of l)c=o(r,{data:t,defaultError:c}).message;return d(o({},s),{path:i,message:c})})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===L?void 0:L].filter(e=>!!e)});e.common.issues.push(a)}class V{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if("aborted"===a.status)return U;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const a of t){const e=await a.key,t=await a.value;n.push({key:e,value:t})}return V.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:t,value:s}=a;if("aborted"===t.status)return U;if("aborted"===s.status)return U;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===t.value||void 0===s.value&&!a.alwaysSet||(n[t.value]=s.value)}return{status:e.value,value:n}}}const U=Object.freeze({status:"aborted"}),K=e=>({status:"dirty",value:e}),H=e=>({status:"valid",value:e}),q=e=>"aborted"===e.status,G=e=>"dirty"===e.status,J=e=>"valid"===e.status,X=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Y,Q;(Q=Y||(Y={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},Q.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class ee{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const te=(e,t)=>{if(J(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new F(e.common.issues);return this._error=t,this._error}}};function ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:s}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:s};return{errorMap:(t,s)=>{var i,r;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:s.defaultError}:void 0===s.data?{message:null!=(i=null!=o?o:a)?i:s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:null!=(r=null!=o?o:n)?r:s.defaultError}},description:s}}class ae{get description(){return this._def.description}_getType(e){return M(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:M(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:M(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(X(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const a={common:{issues:[],async:null!=(n=null==t?void 0:t.async)&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:M(e)},s=this._parseSync({data:e,path:a.path,parent:a});return te(a,s)}"~validate"(e){var t,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:M(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:a});return J(t)?{value:t.value}:{issues:a.common.issues}}catch(s){(null==(n=null==(t=null==s?void 0:s.message)?void 0:t.toLowerCase())?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(e=>J(e)?{value:e.value}:{issues:a.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:M(e)},a=this._parse({data:e,path:n.path,parent:n}),s=await(X(a)?a:Promise.resolve(a));return te(n,s)}refine(e,t){return this._refinement((n,a)=>{const s=e(n),i=()=>a.addIssue(o({code:D.custom},(e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t)(n)));return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(i(),!1)):!!s||(i(),!1)})}refinement(e,t){return this._refinement((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1))}_refinement(e){return new st({schema:this,typeName:pt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return it.create(this,this._def)}nullable(){return rt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fe.create(this)}promise(){return at.create(this,this._def)}or(e){return Be.create([this,e],this._def)}and(e){return He.create(this,e,this._def)}transform(e){return new st(d(o({},ne(this._def)),{schema:this,typeName:pt.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"==typeof e?e:()=>e;return new ot(d(o({},ne(this._def)),{innerType:this,defaultValue:t,typeName:pt.ZodDefault}))}brand(){return new lt(o({typeName:pt.ZodBranded,type:this},ne(this._def)))}catch(e){const t="function"==typeof e?e:()=>e;return new dt(d(o({},ne(this._def)),{innerType:this,catchValue:t,typeName:pt.ZodCatch}))}describe(e){return new(0,this.constructor)(d(o({},this._def),{description:e}))}pipe(e){return ut.create(this,e)}readonly(){return ht.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const se=/^c[^\s-]{8,}$/i,ie=/^[0-9a-z]+$/,re=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,de=/^[a-z0-9_-]{21}$/i,ce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,le=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let he;const pe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,me=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ge=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ve=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ye=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_e="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",be=new RegExp(`^${_e}$`);function xe(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function ke(e){return new RegExp(`^${xe(e)}$`)}function we(e){let t=`${_e}T${xe(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Se(e,t){return!("v4"!==t&&t||!pe.test(e))||!("v6"!==t&&t||!fe.test(e))}function Ne(e,t){if(!ce.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(a));return"object"==typeof s&&null!==s&&((!("typ"in s)||"JWT"===(null==s?void 0:s.typ))&&(!!s.alg&&(!t||s.alg===t)))}catch(n){return!1}}function Te(e,t){return!("v4"!==t&&t||!me.test(e))||!("v6"!==t&&t||!ge.test(e))}class Ce extends ae{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==z.string){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.string,received:t.parsedType}),U}const t=new V;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const a=e.data.length>s.value,i=e.data.length<s.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?B(n,{code:D.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&B(n,{code:D.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)ue.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"email",code:D.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)he||(he=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),he.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"emoji",code:D.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)oe.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"uuid",code:D.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)de.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"nanoid",code:D.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)se.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid",code:D.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)ie.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid2",code:D.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)re.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ulid",code:D.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),B(n,{validation:"url",code:D.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"regex",code:D.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){we(s).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else if("date"===s.kind){be.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:"date",message:s.message}),t.dirty())}else if("time"===s.kind){ke(s).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:"time",message:s.message}),t.dirty())}else"duration"===s.kind?le.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"duration",code:D.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?Se(e.data,s.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ip",code:D.invalid_string,message:s.message}),t.dirty()):"jwt"===s.kind?Ne(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"jwt",code:D.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?Te(e.data,s.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cidr",code:D.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?ve.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64",code:D.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?ye.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64url",code:D.invalid_string,message:s.message}),t.dirty()):R.assertNever(s);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),o({validation:t,code:D.invalid_string},Y.errToObj(n)))}_addCheck(e){return new Ce(d(o({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(o({kind:"email"},Y.errToObj(e)))}url(e){return this._addCheck(o({kind:"url"},Y.errToObj(e)))}emoji(e){return this._addCheck(o({kind:"emoji"},Y.errToObj(e)))}uuid(e){return this._addCheck(o({kind:"uuid"},Y.errToObj(e)))}nanoid(e){return this._addCheck(o({kind:"nanoid"},Y.errToObj(e)))}cuid(e){return this._addCheck(o({kind:"cuid"},Y.errToObj(e)))}cuid2(e){return this._addCheck(o({kind:"cuid2"},Y.errToObj(e)))}ulid(e){return this._addCheck(o({kind:"ulid"},Y.errToObj(e)))}base64(e){return this._addCheck(o({kind:"base64"},Y.errToObj(e)))}base64url(e){return this._addCheck(o({kind:"base64url"},Y.errToObj(e)))}jwt(e){return this._addCheck(o({kind:"jwt"},Y.errToObj(e)))}ip(e){return this._addCheck(o({kind:"ip"},Y.errToObj(e)))}cidr(e){return this._addCheck(o({kind:"cidr"},Y.errToObj(e)))}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(o({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,local:null!=(n=null==e?void 0:e.local)&&n},Y.errToObj(null==e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(o({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},Y.errToObj(null==e?void 0:e.message)))}duration(e){return this._addCheck(o({kind:"duration"},Y.errToObj(e)))}regex(e,t){return this._addCheck(o({kind:"regex",regex:e},Y.errToObj(t)))}includes(e,t){return this._addCheck(o({kind:"includes",value:e,position:null==t?void 0:t.position},Y.errToObj(null==t?void 0:t.message)))}startsWith(e,t){return this._addCheck(o({kind:"startsWith",value:e},Y.errToObj(t)))}endsWith(e,t){return this._addCheck(o({kind:"endsWith",value:e},Y.errToObj(t)))}min(e,t){return this._addCheck(o({kind:"min",value:e},Y.errToObj(t)))}max(e,t){return this._addCheck(o({kind:"max",value:e},Y.errToObj(t)))}length(e,t){return this._addCheck(o({kind:"length",value:e},Y.errToObj(t)))}nonempty(e){return this.min(1,Y.errToObj(e))}trim(){return new Ce(d(o({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Ce(d(o({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Ce(d(o({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Oe(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,s=n>a?n:a;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}Ce.create=e=>{var t;return new Ce(o({checks:[],typeName:pt.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t},ne(e)))};class Ae extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==z.number){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.number,received:t.parsedType}),U}let t;const n=new V;for(const a of this._def.checks)if("int"===a.kind)R.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),B(t,{code:D.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:D.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:D.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else"multipleOf"===a.kind?0!==Oe(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:D.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),B(t,{code:D.not_finite,message:a.message}),n.dirty()):R.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Y.toString(t))}setLimit(e,t,n,a){return new Ae(d(o({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Y.toString(a)}]}))}_addCheck(e){return new Ae(d(o({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:Y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&R.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ae.create=e=>new Ae(o({checks:[],typeName:pt.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},ne(e)));class Ze extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==z.bigint)return this._getInvalidInput(e);let t;const n=new V;for(const s of this._def.checks)if("min"===s.kind){(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:D.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty())}else if("max"===s.kind){(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),B(t,{code:D.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty())}else"multipleOf"===s.kind?e.data%s.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),B(t,{code:D.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):R.assertNever(s);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.bigint,received:t.parsedType}),U}gte(e,t){return this.setLimit("min",e,!0,Y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Y.toString(t))}setLimit(e,t,n,a){return new Ze(d(o({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Y.toString(a)}]}))}_addCheck(e){return new Ze(d(o({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ze.create=e=>{var t;return new Ze(o({checks:[],typeName:pt.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t},ne(e)))};class je extends ae{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==z.boolean){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.boolean,received:t.parsedType}),U}return H(e.data)}}je.create=e=>new je(o({typeName:pt.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},ne(e)));class Ee extends ae{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==z.date){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.date,received:t.parsedType}),U}if(Number.isNaN(e.data.getTime())){return B(this._getOrReturnCtx(e),{code:D.invalid_date}),U}const t=new V;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):R.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ee(d(o({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Y.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Ee.create=e=>new Ee(o({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:pt.ZodDate},ne(e)));class Ie extends ae{_parse(e){if(this._getType(e)!==z.symbol){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.symbol,received:t.parsedType}),U}return H(e.data)}}Ie.create=e=>new Ie(o({typeName:pt.ZodSymbol},ne(e)));class Re extends ae{_parse(e){if(this._getType(e)!==z.undefined){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.undefined,received:t.parsedType}),U}return H(e.data)}}Re.create=e=>new Re(o({typeName:pt.ZodUndefined},ne(e)));class $e extends ae{_parse(e){if(this._getType(e)!==z.null){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.null,received:t.parsedType}),U}return H(e.data)}}$e.create=e=>new $e(o({typeName:pt.ZodNull},ne(e)));class Pe extends ae{constructor(){super(...arguments),this._any=!0}_parse(e){return H(e.data)}}Pe.create=e=>new Pe(o({typeName:pt.ZodAny},ne(e)));class ze extends ae{constructor(){super(...arguments),this._unknown=!0}_parse(e){return H(e.data)}}ze.create=e=>new ze(o({typeName:pt.ZodUnknown},ne(e)));class Me extends ae{_parse(e){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.never,received:t.parsedType}),U}}Me.create=e=>new Me(o({typeName:pt.ZodNever},ne(e)));class De extends ae{_parse(e){if(this._getType(e)!==z.undefined){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.void,received:t.parsedType}),U}return H(e.data)}}De.create=e=>new De(o({typeName:pt.ZodVoid},ne(e)));class Fe extends ae{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==z.array)return B(t,{code:D.invalid_type,expected:z.array,received:t.parsedType}),U;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,s=t.data.length<a.exactLength.value;(e||s)&&(B(t,{code:e?D.too_big:D.too_small,minimum:s?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(B(t,{code:D.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(B(t,{code:D.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>a.type._parseAsync(new ee(t,e,t.path,n)))).then(e=>V.mergeArray(n,e));const s=[...t.data].map((e,n)=>a.type._parseSync(new ee(t,e,t.path,n)));return V.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new Fe(d(o({},this._def),{minLength:{value:e,message:Y.toString(t)}}))}max(e,t){return new Fe(d(o({},this._def),{maxLength:{value:e,message:Y.toString(t)}}))}length(e,t){return new Fe(d(o({},this._def),{exactLength:{value:e,message:Y.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Le(e){if(e instanceof We){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=it.create(Le(a))}return new We(d(o({},e._def),{shape:()=>t}))}return e instanceof Fe?new Fe(d(o({},e._def),{type:Le(e.element)})):e instanceof it?it.create(Le(e.unwrap())):e instanceof rt?rt.create(Le(e.unwrap())):e instanceof qe?qe.create(e.items.map(e=>Le(e))):e}Fe.create=(e,t)=>new Fe(o({type:e,minLength:null,maxLength:null,exactLength:null,typeName:pt.ZodArray},ne(t)));class We extends ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=R.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==z.object){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.object,received:t.parsedType}),U}const{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),i=[];if(!(this._def.catchall instanceof Me&&"strip"===this._def.unknownKeys))for(const o in n.data)s.includes(o)||i.push(o);const r=[];for(const o of s){const e=a[o],t=n.data[o];r.push({key:{status:"valid",value:o},value:e._parse(new ee(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof Me){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)r.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(B(n,{code:D.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const a=n.data[t];r.push({key:{status:"valid",value:t},value:e._parse(new ee(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of r){const n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>V.mergeObjectSync(t,e)):V.mergeObjectSync(t,r)}get shape(){return this._def.shape()}strict(e){return Y.errToObj,new We(o(d(o({},this._def),{unknownKeys:"strict"}),void 0!==e?{errorMap:(t,n)=>{var a,s,i,r;const o=null!=(i=null==(s=(a=this._def).errorMap)?void 0:s.call(a,t,n).message)?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!=(r=Y.errToObj(e).message)?r:o}:{message:o}}}:{}))}strip(){return new We(d(o({},this._def),{unknownKeys:"strip"}))}passthrough(){return new We(d(o({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new We(d(o({},this._def),{shape:()=>o(o({},this._def.shape()),e)}))}merge(e){return new We({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>o(o({},this._def.shape()),e._def.shape()),typeName:pt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new We(d(o({},this._def),{catchall:e}))}pick(e){const t={};for(const n of R.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new We(d(o({},this._def),{shape:()=>t}))}omit(e){const t={};for(const n of R.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new We(d(o({},this._def),{shape:()=>t}))}deepPartial(){return Le(this)}partial(e){const t={};for(const n of R.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()}return new We(d(o({},this._def),{shape:()=>t}))}required(e){const t={};for(const n of R.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof it;)e=e._def.innerType;t[n]=e}return new We(d(o({},this._def),{shape:()=>t}))}keyof(){return et(R.objectKeys(this.shape))}}We.create=(e,t)=>new We(o({shape:()=>e,unknownKeys:"strip",catchall:Me.create(),typeName:pt.ZodObject},ne(t))),We.strictCreate=(e,t)=>new We(o({shape:()=>e,unknownKeys:"strict",catchall:Me.create(),typeName:pt.ZodObject},ne(t))),We.lazycreate=(e,t)=>new We(o({shape:e,unknownKeys:"strip",catchall:Me.create(),typeName:pt.ZodObject},ne(t)));class Be extends ae{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n=d(o({},t),{common:d(o({},t.common),{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;const n=e.map(e=>new F(e.ctx.common.issues));return B(t,{code:D.invalid_union,unionErrors:n}),U});{let e;const a=[];for(const i of n){const n=d(o({},t),{common:d(o({},t.common),{issues:[]}),parent:null}),s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=a.map(e=>new F(e));return B(t,{code:D.invalid_union,unionErrors:s}),U}}get options(){return this._def.options}}Be.create=(e,t)=>new Be(o({options:e,typeName:pt.ZodUnion},ne(t)));const Ve=e=>e instanceof Ye?Ve(e.schema):e instanceof st?Ve(e.innerType()):e instanceof Qe?[e.value]:e instanceof tt?e.options:e instanceof nt?R.objectValues(e.enum):e instanceof ot?Ve(e._def.innerType):e instanceof Re?[void 0]:e instanceof $e?[null]:e instanceof it?[void 0,...Ve(e.unwrap())]:e instanceof rt?[null,...Ve(e.unwrap())]:e instanceof lt||e instanceof ht?Ve(e.unwrap()):e instanceof dt?Ve(e._def.innerType):[];class Ue extends ae{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==z.object)return B(t,{code:D.invalid_type,expected:z.object,received:t.parsedType}),U;const n=this.discriminator,a=t.data[n],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(B(t,{code:D.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const s of t){const t=Ve(s.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(a.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);a.set(n,s)}}return new Ue(o({typeName:pt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a},ne(n)))}}function Ke(e,t){const n=M(e),a=M(t);if(e===t)return{valid:!0,data:e};if(n===z.object&&a===z.object){const n=R.objectKeys(t),a=R.objectKeys(e).filter(e=>-1!==n.indexOf(e)),s=o(o({},e),t);for(const i of a){const n=Ke(e[i],t[i]);if(!n.valid)return{valid:!1};s[i]=n.data}return{valid:!0,data:s}}if(n===z.array&&a===z.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const s=Ke(e[a],t[a]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===z.date&&a===z.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class He extends ae{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(q(e)||q(a))return U;const s=Ke(e.value,a.value);return s.valid?((G(e)||G(a))&&t.dirty(),{status:t.value,value:s.data}):(B(n,{code:D.invalid_intersection_types}),U)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}He.create=(e,t,n)=>new He(o({left:e,right:t,typeName:pt.ZodIntersection},ne(n)));class qe extends ae{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.array)return B(n,{code:D.invalid_type,expected:z.array,received:n.parsedType}),U;if(n.data.length<this._def.items.length)return B(n,{code:D.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&n.data.length>this._def.items.length&&(B(n,{code:D.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new ee(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(a).then(e=>V.mergeArray(t,e)):V.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new qe(d(o({},this._def),{rest:e}))}}qe.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qe(o({items:e,typeName:pt.ZodTuple,rest:null},ne(t)))};class Ge extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.object)return B(n,{code:D.invalid_type,expected:z.object,received:n.parsedType}),U;const a=[],s=this._def.keyType,i=this._def.valueType;for(const r in n.data)a.push({key:s._parse(new ee(n,r,n.path,r)),value:i._parse(new ee(n,n.data[r],n.path,r)),alwaysSet:r in n.data});return n.common.async?V.mergeObjectAsync(t,a):V.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return new Ge(t instanceof ae?o({keyType:e,valueType:t,typeName:pt.ZodRecord},ne(n)):o({keyType:Ce.create(),valueType:e,typeName:pt.ZodRecord},ne(t)))}}class Je extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.map)return B(n,{code:D.invalid_type,expected:z.map,received:n.parsedType}),U;const a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([e,t],i)=>({key:a._parse(new ee(n,e,n.path,[i,"key"])),value:s._parse(new ee(n,t,n.path,[i,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of i){const a=await n.key,s=await n.value;if("aborted"===a.status||"aborted"===s.status)return U;"dirty"!==a.status&&"dirty"!==s.status||t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of i){const a=n.key,s=n.value;if("aborted"===a.status||"aborted"===s.status)return U;"dirty"!==a.status&&"dirty"!==s.status||t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}}}}Je.create=(e,t,n)=>new Je(o({valueType:t,keyType:e,typeName:pt.ZodMap},ne(n)));class Xe extends ae{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==z.set)return B(n,{code:D.invalid_type,expected:z.set,received:n.parsedType}),U;const a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(B(n,{code:D.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(B(n,{code:D.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const s=this._def.valueType;function i(e){const n=new Set;for(const a of e){if("aborted"===a.status)return U;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}const r=[...n.data.values()].map((e,t)=>s._parse(new ee(n,e,n.path,t)));return n.common.async?Promise.all(r).then(e=>i(e)):i(r)}min(e,t){return new Xe(d(o({},this._def),{minSize:{value:e,message:Y.toString(t)}}))}max(e,t){return new Xe(d(o({},this._def),{maxSize:{value:e,message:Y.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Xe.create=(e,t)=>new Xe(o({valueType:e,minSize:null,maxSize:null,typeName:pt.ZodSet},ne(t)));class Ye extends ae{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ye.create=(e,t)=>new Ye(o({getter:e,typeName:pt.ZodLazy},ne(t)));class Qe extends ae{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return B(t,{received:t.data,code:D.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:e.data}}get value(){return this._def.value}}function et(e,t){return new tt(o({values:e,typeName:pt.ZodEnum},ne(t)))}Qe.create=(e,t)=>new Qe(o({value:e,typeName:pt.ZodLiteral},ne(t)));class tt extends ae{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return B(t,{expected:R.joinValues(n),received:t.parsedType,code:D.invalid_type}),U}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return B(t,{received:t.data,code:D.invalid_enum_value,options:n}),U}return H(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tt.create(e,o(o({},this._def),t))}exclude(e,t=this._def){return tt.create(this.options.filter(t=>!e.includes(t)),o(o({},this._def),t))}}tt.create=et;class nt extends ae{_parse(e){const t=R.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==z.string&&n.parsedType!==z.number){const e=R.objectValues(t);return B(n,{expected:R.joinValues(e),received:n.parsedType,code:D.invalid_type}),U}if(this._cache||(this._cache=new Set(R.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=R.objectValues(t);return B(n,{received:n.data,code:D.invalid_enum_value,options:e}),U}return H(e.data)}get enum(){return this._def.values}}nt.create=(e,t)=>new nt(o({values:e,typeName:pt.ZodNativeEnum},ne(t)));class at extends ae{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==z.promise&&!1===t.common.async)return B(t,{code:D.invalid_type,expected:z.promise,received:t.parsedType}),U;const n=t.parsedType===z.promise?t.data:Promise.resolve(t.data);return H(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}at.create=(e,t)=>new at(o({type:e,typeName:pt.ZodPromise},ne(t)));class st extends ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:e=>{B(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===a.type){const e=a.transform(n.data,s);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return U;const a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?U:"dirty"===a.status||"dirty"===t.value?K(a.value):a});{if("aborted"===t.value)return U;const a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?U:"dirty"===a.status||"dirty"===t.value?K(a.value):a}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,s);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?U:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?U:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!J(e))return U;const i=a.transform(e.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>J(e)?Promise.resolve(a.transform(e.value,s)).then(e=>({status:t.value,value:e})):U)}R.assertNever(a)}}st.create=(e,t,n)=>new st(o({schema:e,typeName:pt.ZodEffects,effect:t},ne(n))),st.createWithPreprocess=(e,t,n)=>new st(o({schema:t,effect:{type:"preprocess",transform:e},typeName:pt.ZodEffects},ne(n)));class it extends ae{_parse(e){return this._getType(e)===z.undefined?H(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}it.create=(e,t)=>new it(o({innerType:e,typeName:pt.ZodOptional},ne(t)));class rt extends ae{_parse(e){return this._getType(e)===z.null?H(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rt.create=(e,t)=>new rt(o({innerType:e,typeName:pt.ZodNullable},ne(t)));class ot extends ae{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ot.create=(e,t)=>new ot(o({innerType:e,typeName:pt.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default},ne(t)));class dt extends ae{_parse(e){const{ctx:t}=this._processInputParams(e),n=d(o({},t),{common:d(o({},t.common),{issues:[]})}),a=this._def.innerType._parse({data:n.data,path:n.path,parent:o({},n)});return X(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new F(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new F(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dt.create=(e,t)=>new dt(o({innerType:e,typeName:pt.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch},ne(t)));class ct extends ae{_parse(e){if(this._getType(e)!==z.nan){const t=this._getOrReturnCtx(e);return B(t,{code:D.invalid_type,expected:z.nan,received:t.parsedType}),U}return{status:"valid",value:e.data}}}ct.create=e=>new ct(o({typeName:pt.ZodNaN},ne(e)));class lt extends ae{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ut extends ae{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?U:"dirty"===e.status?(t.dirty(),K(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?U:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new ut({in:e,out:t,typeName:pt.ZodPipeline})}}class ht extends ae{_parse(e){const t=this._def.innerType._parse(e),n=e=>(J(e)&&(e.value=Object.freeze(e.value)),e);return X(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}var pt,mt;ht.create=(e,t)=>new ht(o({innerType:e,typeName:pt.ZodReadonly},ne(t))),(mt=pt||(pt={})).ZodString="ZodString",mt.ZodNumber="ZodNumber",mt.ZodNaN="ZodNaN",mt.ZodBigInt="ZodBigInt",mt.ZodBoolean="ZodBoolean",mt.ZodDate="ZodDate",mt.ZodSymbol="ZodSymbol",mt.ZodUndefined="ZodUndefined",mt.ZodNull="ZodNull",mt.ZodAny="ZodAny",mt.ZodUnknown="ZodUnknown",mt.ZodNever="ZodNever",mt.ZodVoid="ZodVoid",mt.ZodArray="ZodArray",mt.ZodObject="ZodObject",mt.ZodUnion="ZodUnion",mt.ZodDiscriminatedUnion="ZodDiscriminatedUnion",mt.ZodIntersection="ZodIntersection",mt.ZodTuple="ZodTuple",mt.ZodRecord="ZodRecord",mt.ZodMap="ZodMap",mt.ZodSet="ZodSet",mt.ZodFunction="ZodFunction",mt.ZodLazy="ZodLazy",mt.ZodLiteral="ZodLiteral",mt.ZodEnum="ZodEnum",mt.ZodEffects="ZodEffects",mt.ZodNativeEnum="ZodNativeEnum",mt.ZodOptional="ZodOptional",mt.ZodNullable="ZodNullable",mt.ZodDefault="ZodDefault",mt.ZodCatch="ZodCatch",mt.ZodPromise="ZodPromise",mt.ZodBranded="ZodBranded",mt.ZodPipeline="ZodPipeline",mt.ZodReadonly="ZodReadonly";const ft=Ce.create,gt=Ae.create,vt=je.create,yt=ze.create;Me.create;const _t=Fe.create,bt=We.create,xt=Be.create,kt=Ue.create;He.create,qe.create;const wt=Ge.create,St=Qe.create,Nt=tt.create;at.create,it.create,rt.create;const Tt=kt("type",[bt({type:St("empirbus"),channel:ft().regex(/^[a-z][a-z0-9-]*$/,"Channel must be lowercase alphanumeric with hyphens"),property:Nt(["state","intensity","value"]).optional()}),bt({type:St("nmea2000"),pgn:gt().int().positive(),field:ft().min(1),instance:gt().int().nonnegative().optional()}),bt({type:St("static"),value:yt()})]),Ct=bt({id:ft().regex(/^[a-zA-Z][a-zA-Z0-9-_]*$/,"ID must start with letter and contain only alphanumeric, hyphens, underscores"),type:ft(),label:ft().min(1).max(50),icon:ft().optional(),tooltip:ft().max(200).optional(),disabled:vt().optional(),visible:vt().optional()}),Ot=Ct.extend({type:St("toggle"),variant:Nt(["default","switch","checkbox"]).optional(),bindings:bt({state:Tt})}),At=bt({state:Tt.optional(),action:Tt.optional()}).refine(e=>void 0!==e.state||void 0!==e.action,"Button must have at least one binding (state or action)"),Zt=Ct.extend({type:St("button"),action:Nt(["momentary","toggle"]),variant:Nt(["primary","secondary","danger"]).optional(),bindings:At}),jt=Ct.extend({type:St("dimmer"),min:gt().min(0).max(100).optional().default(0),max:gt().min(0).max(100).optional().default(100),step:gt().min(1).max(100).optional().default(1),bindings:bt({intensity:Tt})});jt.refine(e=>(e.min||0)<(e.max||100),"min must be less than max");const Et=Ct.extend({type:St("gauge"),variant:Nt(["circular","linear","numeric"]).optional(),min:gt().optional(),max:gt().optional(),unit:ft().max(20).optional(),decimals:gt().int().min(0).max(4).optional().default(0),bindings:bt({value:Tt})});Et.refine(e=>void 0===e.min||void 0===e.max||e.min<e.max,"min must be less than max");const It=Ct.extend({type:St("indicator"),variant:Nt(["led","badge","icon"]).optional(),color:Nt(["green","yellow","red","blue","white"]).optional(),bindings:bt({state:Tt})}),Rt=Ct.extend({type:St("slider"),orientation:Nt(["horizontal","vertical"]).optional().default("horizontal"),min:gt(),max:gt(),step:gt().positive().optional().default(1),unit:ft().max(20).optional(),showValue:vt().optional().default(!0),bindings:bt({value:Tt})});Rt.refine(e=>e.min<e.max,"min must be less than max");const $t=xt([Ot,Zt,jt,Et,It,Rt]),Pt=bt({id:ft().regex(/^[a-zA-Z][a-zA-Z0-9-_]*$/,"ID must start with letter and contain only alphanumeric, hyphens, underscores"),title:ft().min(1).max(50),icon:ft().optional(),collapsible:vt().optional(),collapsed:vt().optional(),components:_t($t).min(1)}),zt=bt({id:ft().regex(/^[a-zA-Z][a-zA-Z0-9-_]*$/,"ID must start with letter and contain only alphanumeric, hyphens, underscores"),title:ft().min(1).max(30),icon:ft().optional(),sections:_t(Pt).min(1)}),Mt=bt({id:ft().regex(/^[a-zA-Z][a-zA-Z0-9-_]*$/,"ID must start with letter and contain only alphanumeric, hyphens, underscores"),type:Nt(["svg","png","jpg"]),data:ft().optional(),url:ft().url().optional()}).refine(e=>void 0!==e.data||void 0!==e.url,"Icon must have either data or url"),Dt=Nt(["core","core-lite"]),Ft=Nt(["not-used","push-button","toggle-button","slider","half-bridge","dimmer","special-function"]),Lt=Nt(["core","core-lite","genesis"]),Wt=bt({id:ft(),source:Lt,channel:gt().int().positive(),label:ft().max(50).optional(),control:Ft.default("not-used"),icon:ft().optional(),signalId:gt().int().positive().optional(),signals:bt({toggle:gt().int().positive().nullable().optional(),momentary:gt().int().positive().nullable().optional(),dimmer:gt().int().positive().nullable().optional()}).optional(),range:bt({min:gt(),max:gt(),step:gt().positive()}).optional()}),Bt=bt({source:Lt,channelA:gt().int().positive(),channelB:gt().int().positive(),enabled:vt().default(!1)}),Vt=xt([gt().int().positive(),bt({"push-button":gt().int().positive().optional(),"toggle-button":gt().int().positive().optional(),slider:gt().int().positive().optional(),default:gt().int().positive().optional()})]),Ut=bt({systemType:Dt.default("core"),outputs:_t(Wt),halfBridgePairs:_t(Bt).optional(),signalMap:wt(ft(),Vt).optional()}),Kt=bt({dcCharging:bt({secondAlternator:vt().default(!1),orionXs:vt().default(!1)}).default({secondAlternator:!1,orionXs:!1}),acLegs:gt().int().min(1).max(2).default(2),multiplus:bt({l1:vt().default(!1),l2:vt().default(!1)}).default({l1:!1,l2:!1})}),Ht=bt({heating:bt({enabled:vt().default(!1),sources:bt({diesel:vt().default(!1),electric:vt().default(!1),engine:vt().default(!1)}).default({diesel:!1,electric:!1,engine:!1}),distribution:bt({floor:vt().default(!1),fans:vt().default(!1)}).default({floor:!1,fans:!1}),hotWater:vt().default(!1),auxZone:vt().default(!1)}).default({enabled:!1,sources:{diesel:!1,electric:!1,engine:!1},distribution:{floor:!1,fans:!1},hotWater:!1,auxZone:!1}),cooling:bt({enabled:vt().default(!1),brand:Nt(["","recpro","truma","cruisencomfort"]).default("")}).default({enabled:!1,brand:""}),ventilation:bt({enabled:vt().default(!1),fans:gt().int().min(0).max(2).default(1)}).default({enabled:!1,fans:1})}),qt=bt({type:Nt(["fresh","waste","black"]),name:ft().max(50).default("")}),Gt=bt({enabled:vt().default(!0),monitoringSource:Nt(["cerbo-gx","seelevel"]).default("cerbo-gx"),count:gt().int().min(1).max(4).default(3),tanks:_t(qt).min(1).max(4).default([{type:"fresh",name:""},{type:"waste",name:""},{type:"black",name:""}])}),Jt=bt({keypad:bt({enabled:vt().default(!1),count:gt().int().min(1).max(4).default(1),buttonsPerKeypad:gt().int().min(5).max(16).default(8)}).default({enabled:!1,count:1,buttonsPerKeypad:8}),awning:bt({enabled:vt().default(!1),light:vt().default(!1),controlType:Nt(["rvc","analog"]).default("rvc")}).default({enabled:!1,light:!1,controlType:"rvc"}),slides:bt({enabled:vt().default(!1),controlType:Nt(["rvc","analog"]).default("rvc"),keypadSecured:vt().default(!1)}).default({enabled:!1,controlType:"rvc",keypadSecured:!1})}),Xt=bt({enabled:vt().default(!1),modules:gt().int().min(0).max(4).default(0),zonesPerModule:xt([St(2),St(4)]).default(2)}).default({enabled:!1,modules:0,zonesPerModule:2}),Yt=bt({preset:Nt(["blue","purple","green","orange","red","dark","light"]).default("blue"),customColors:bt({primary:ft().regex(/^#[0-9A-Fa-f]{6}$/).optional(),secondary:ft().regex(/^#[0-9A-Fa-f]{6}$/).optional(),accent:ft().regex(/^#[0-9A-Fa-f]{6}$/).optional(),background:ft().regex(/^#[0-9A-Fa-f]{6}$/).optional(),text:ft().regex(/^#[0-9A-Fa-f]{6}$/).optional()}).optional()}).default({preset:"blue"}),Qt=bt({name:ft().min(1).max(100),description:ft().max(500).optional(),version:ft().regex(/^\d+\.\d+\.\d+$/,"Version must be semantic version (x.y.z)"),author:ft().max(100).optional(),createdAt:ft().datetime().optional(),updatedAt:ft().datetime().optional()}),en=bt({schemaVersion:ft().regex(/^\d+\.\d+\.\d+$/,"Schema version must be semantic version (x.y.z)"),metadata:Qt,theme:Yt.optional(),hardware:Ut.optional(),power:Kt.optional(),hvac:Ht.optional(),plumbing:Gt.optional(),accessories:Jt.optional(),lighting:Xt.optional(),tabs:_t(zt).min(1).max(10),icons:_t(Mt).optional()});function tn(e,t,n){return{path:e,message:t,code:n}}function nn(e){const t=[];return t.push(...function(e){const t=[],n=new Set;return e.tabs.forEach((e,a)=>{e.sections.forEach((e,s)=>{e.components.forEach((e,i)=>{n.has(e.id)&&t.push(tn(["tabs",String(a),"sections",String(s),"components",String(i),"id"],`Duplicate component ID: "${e.id}". All component IDs must be unique across the entire schema.`,"duplicate_component_id")),n.add(e.id)})})}),t}(e)),t.push(...function(e){var t;const n=[],a=new Set((null==(t=e.icons)?void 0:t.map(e=>e.id))||[]);return e.tabs.forEach((e,t)=>{e.icon&&!a.has(e.icon)&&n.push(tn(["tabs",String(t),"icon"],`Icon reference "${e.icon}" not found in schema.icons`,"invalid_icon_reference")),e.sections.forEach((e,s)=>{e.icon&&!a.has(e.icon)&&n.push(tn(["tabs",String(t),"sections",String(s),"icon"],`Icon reference "${e.icon}" not found in schema.icons`,"invalid_icon_reference")),e.components.forEach((e,i)=>{e.icon&&!a.has(e.icon)&&n.push(tn(["tabs",String(t),"sections",String(s),"components",String(i),"icon"],`Icon reference "${e.icon}" not found in schema.icons`,"invalid_icon_reference"))})})}),n}(e)),t.push(...function(e){var t;const n=[],a=new Set;return null==(t=e.icons)||t.forEach((e,t)=>{a.has(e.id)&&n.push(tn(["icons",String(t),"id"],`Duplicate icon ID: "${e.id}". All icon IDs must be unique.`,"duplicate_icon_id")),a.add(e.id)}),n}(e)),t.push(...function(e){const t=[],n=new Set;return e.tabs.forEach((e,a)=>{n.has(e.id)&&t.push(tn(["tabs",String(a),"id"],`Duplicate tab ID: "${e.id}". All tab IDs must be unique.`,"duplicate_tab_id")),n.add(e.id)}),t}(e)),t.push(...function(e){const t=[];return e.tabs.forEach((e,n)=>{const a=new Set;e.sections.forEach((s,i)=>{a.has(s.id)&&t.push(tn(["tabs",String(n),"sections",String(i),"id"],`Duplicate section ID: "${s.id}" in tab "${e.id}". Section IDs must be unique within their tab.`,"duplicate_section_id")),a.add(s.id)})}),t}(e)),t}function an(e){const t=I();if(!t||!t.isConnected())return;const n=function(e){const t=new Set;if(e.hardware&&e.hardware.outputs)for(let a=0;a<e.hardware.outputs.length;a++){const n=e.hardware.outputs[a];n&&("number"==typeof n.signalId&&t.add(n.signalId),n.signals&&("number"==typeof n.signals.toggle&&t.add(n.signals.toggle),"number"==typeof n.signals.momentary&&t.add(n.signals.momentary),"number"==typeof n.signals.dimmer&&t.add(n.signals.dimmer)))}const n=Array.from(t);return n.sort(function(e,t){return e-t}),n}(e);0!==n.length&&t.subscribeToSignals(n)}async function sn(e={}){const{schemaPath:t="/schema.json",schema:n,autoSubscribe:a=!0}=e;b.value=!0,x.value=null,_.value=null;try{let e;if(n)e=n;else{const n=await fetch(t);if(!n.ok)throw new Error("Failed to load schema: "+n.statusText);e=await n.json()}const s=function(e){const t=en.safeParse(e);if(!t.success)return{success:!1,errors:t.error.errors.map(e=>({path:e.path.map(String),message:e.message,code:e.code}))};const n=nn(t.data);return n.length>0?{success:!1,errors:n}:{success:!0,data:t.data}}(e);if(!s.success){const e=s.errors.map(function(e){return e.path.join(".")+": "+e.message}).join("; ");throw new Error("Schema validation failed: "+e)}const i=s.data;_.value=i,a&&i.hardware&&function(e){const t=I();if(!t)return function(){};const n=t.onOpen(function(){an(e)});t.isConnected()&&an(e)}(i)}catch(s){const e=s instanceof Error?s.message:"Unknown error loading schema";x.value=e}finally{b.value=!1}}function rn(e,t){if(!e)return null;if("empirbus"===e.type){const n=e.channel;if("number"==typeof n)return n;if("string"==typeof n){const e=_.value;if(!e||!e.hardware||!e.hardware.outputs)return null;const a=e.hardware.outputs.find(function(e){return e.id===n});return a?a.signals&&t&&a.signals[t]?a.signals[t]:"number"==typeof a.channel?a.channel:null:null}}return"nmea2000"===e.type||e.type,null}function on(e){return{lo:255&e,hi:e>>8&255}}function dn(e,t){const{lo:n,hi:a}=on(e);return{messagetype:17,messagecmd:1,size:3,data:[n,a,t?1:0]}}function cn(e){const{component:t,value:n,onChange:a}=e;let s=null;t.bindings&&t.bindings.state&&(s=rn(t.bindings.state,"toggle"));const i=null!==s?A(s):null,r=h(function(){if(i&&i.value){const e=i.value.value;if(e&&"boolean"==typeof e.state)return e.state}return n||!1}),o="gcg-toggle";return y("div",{className:"gcg-component-wrapper",children:[y("button",{type:"button",className:o+" "+(o+"--"+(t.variant||"default"))+" "+(r.value?o+"--on":o+"--off"),onClick:function(){const e=r.value;if(null!==s){const e=I();if(e&&e.isConnected()){const t=dn(s,!0);e.send(t),setTimeout(function(){const t=dn(s,!1);e.send(t)},75)}}a&&a(!e)},disabled:t.disabled,"aria-pressed":r.value,"aria-label":t.label,children:[y("div",{className:"gcg-toggle__track",children:y("div",{className:"gcg-toggle__thumb"})}),y("span",{className:"gcg-toggle__label",children:t.label})]}),t.tooltip&&y("div",{className:"gcg-component-tooltip",children:t.tooltip})]})}function ln(e){const{component:t,onAction:n}=e,[a,s]=p(!1),i=function(e){if(t.bindings&&t.bindings.action){const n=rn(t.bindings.action,"momentary");if(null!==n){const t=I();if(t&&t.isConnected()){const a=dn(n,e);t.send(a)}}}},r="gcg-button";return y("div",{className:"gcg-component-wrapper",children:[y("button",{type:"button",className:[r,r+"--"+(t.variant||"default"),a?r+"--pressed":"",t.disabled?r+"--disabled":""].filter(function(e){return e}).join(" "),disabled:t.disabled,onPointerDown:function(e){e.preventDefault(),a||(s(!0),i(!0),n&&n(!0))},onPointerUp:function(e){e.preventDefault(),a&&(s(!1),i(!1),n&&n(!1))},onPointerCancel:function(){a&&(s(!1),i(!1),n&&n(!1))},onPointerLeave:function(){a&&(s(!1),i(!1),n&&n(!1))},"aria-label":t.label,"aria-pressed":a,children:y("span",{className:"gcg-button__label",children:t.label})}),t.tooltip&&y("div",{className:"gcg-component-tooltip",children:t.tooltip})]})}function un(e){const{component:t,value:n,onChange:a}=e;let s=null,i=null;t.bindings&&t.bindings.intensity&&(s=rn(t.bindings.intensity,"dimmer"),i=rn(t.bindings.intensity,"toggle"));const r=null!==s?A(s):null,o=null!==i?A(i):null,d=m(!1),c=f(null),l=m(n||t.min||0),u=h(function(){if(o&&o.value){const e=o.value.value;if(e&&"boolean"==typeof e.state)return e.state}return!1});g(()=>{if(c.current&&!d.value&&document.activeElement!==c.current&&r&&r.value){const e=r.value.value;e&&"number"==typeof e.value&&(c.current.value=String(e.value),l.value=e.value)}});const p=h(function(){if(r&&r.value){const e=r.value.value;if(e&&"number"==typeof e.value)return e.value}return void 0!==n?n:t.min||0}),v=function(e){const n=t.min||0,i=t.max||100,r=t.step||1,o=Math.round(e/r)*r,d=Math.max(n,Math.min(i,o));if(null!==s){const e=I();if(e&&e.isConnected()){const t=function(e,t,n=0){const{lo:a,hi:s}=on(e),i=0|Number(n),r=Math.max(0,Math.min(100,Number(t)||0)),o=Math.round(10*r);return{messagetype:17,messagecmd:3,size:5,data:[a,s,i,255&o,o>>8&255]}}(s,d,0);e.send(t)}}a&&a(d)},_=u.value?"gcg-dimmer__toggle--on":"gcg-dimmer__toggle--off",b=t.min||0,x=t.max||100,k=t.step||1;return y("div",{className:"gcg-component-wrapper",children:[y("div",{className:"gcg-dimmer",children:[y("div",{className:"gcg-dimmer__header",children:[y("label",{className:"gcg-dimmer__label",children:[y("span",{className:"gcg-dimmer__label-text",children:t.label}),y("span",{className:"gcg-dimmer__value",children:[Math.round(l.value),"%"]})]}),y("button",{type:"button",className:"gcg-dimmer__toggle "+_,onClick:function(){if(null!==i){const e=I();if(e&&e.isConnected()){const t=dn(i,!0);e.send(t),setTimeout(function(){const t=dn(i,!1);e.send(t)},75)}}},disabled:t.disabled,"aria-pressed":u.value,"aria-label":"Toggle "+t.label,children:y("div",{className:"gcg-dimmer__toggle-indicator"})})]}),y("div",{className:"gcg-dimmer__slider-container",children:[y("input",{ref:c,type:"range",className:"gcg-dimmer__slider",min:b,max:x,step:k,defaultValue:p.value,onInput:function(e){const t=e.target,n=parseFloat(t.value);isNaN(n)||(d.value=!0,l.value=n)},onChange:function(e){const t=e.target,n=parseFloat(t.value);isNaN(n)||v(n),d.value=!1},disabled:t.disabled,"aria-label":t.label,"aria-valuemin":b,"aria-valuemax":x,"aria-valuenow":l.value}),y("div",{className:"gcg-dimmer__track",children:y("div",{className:"gcg-dimmer__fill",style:{width:(l.value-b)/(x-b)*100+"%"}})})]})]}),t.tooltip&&y("div",{className:"gcg-component-tooltip",children:t.tooltip})]})}function hn(e){const{component:t,value:n}=e;let a=null;t.bindings&&t.bindings.state&&(a=rn(t.bindings.state));const s=null!==a?A(a):null;let i="off";h(function(){if(s&&s.value){const e=s.value.value;if(e&&"boolean"==typeof e.state)return e.state}return!0===n}).value?i="on":"warning"===n?i="warning":"error"===n&&(i="error");const r="gcg-indicator";return y("div",{className:"gcg-component-wrapper",children:[y("div",{className:[r,r+"--"+(t.variant||"led"),r+"--"+i].filter(function(e){return e}).join(" "),role:"status","aria-label":t.label,children:[y("div",{className:"gcg-indicator__light"}),y("span",{className:"gcg-indicator__label",children:t.label})]}),t.tooltip&&y("div",{className:"gcg-component-tooltip",children:t.tooltip})]})}function pn(e){const{component:t,value:n}=e;let a=null;t.bindings&&t.bindings.value&&(a=rn(t.bindings.value));const s=null!==a?A(a):null,i=h(function(){if(s&&s.value){const e=s.value.value;if(e&&"number"==typeof e.raw)return e.raw}return void 0!==n?n:0}),r=t.variant||"numeric",o=void 0!==t.min?t.min:0,d=void 0!==t.max?t.max:100,c=t.unit||"",l=void 0!==t.decimals?t.decimals:0,u=l>0?i.value.toFixed(l):Math.round(i.value).toString(),p=Math.max(0,Math.min(100,(i.value-o)/(d-o)*100)),m="gcg-gauge";return y("div",{className:"gcg-component-wrapper",children:[y("div",{className:[m,m+"--"+r].join(" "),role:"meter","aria-valuemin":o,"aria-valuemax":d,"aria-valuenow":i.value,children:["circular"===r&&y("div",{className:"gcg-gauge__circular",children:[y("svg",{className:"gcg-gauge__svg",viewBox:"0 0 100 100",children:[y("path",{className:"gcg-gauge__track",d:"M 10,50 A 40,40 0 1,1 90,50",fill:"none",strokeWidth:"8",strokeLinecap:"round"}),y("path",{className:"gcg-gauge__fill",d:"M 10,50 A 40,40 0 1,1 90,50",fill:"none",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:String(2.51*p)+" 251"})]}),y("div",{className:"gcg-gauge__value-container",children:[y("span",{className:"gcg-gauge__value",children:u}),c&&y("span",{className:"gcg-gauge__unit",children:c})]}),y("label",{className:"gcg-gauge__label",children:t.label})]}),"linear"===r&&y("div",{className:"gcg-gauge__linear",children:[y("label",{className:"gcg-gauge__label",children:t.label}),y("div",{className:"gcg-gauge__track-container",children:[y("div",{className:"gcg-gauge__track",children:y("div",{className:"gcg-gauge__fill",style:{width:p+"%"}})}),y("div",{className:"gcg-gauge__value-container",children:[y("span",{className:"gcg-gauge__value",children:u}),c&&y("span",{className:"gcg-gauge__unit",children:c})]})]})]}),"numeric"===r&&y("div",{className:"gcg-gauge__numeric",children:[y("label",{className:"gcg-gauge__label",children:t.label}),y("div",{className:"gcg-gauge__value-container",children:[y("span",{className:"gcg-gauge__value",children:u}),c&&y("span",{className:"gcg-gauge__unit",children:c})]})]})]}),t.tooltip&&y("div",{className:"gcg-component-tooltip",children:t.tooltip})]})}function mn(e){const{component:t}=e;switch(t.type){case"toggle":return y(cn,{component:t});case"button":return y(ln,{component:t});case"dimmer":return y(un,{component:t});case"gauge":return y(pn,{component:t});case"indicator":return y(hn,{component:t,value:!1});case"slider":return y("div",{style:{padding:"1rem",background:"rgba(255, 255, 0, 0.1)"},children:["Slider: ",t.label," (not implemented yet)"]});default:return y("div",{style:{padding:"1rem",background:"rgba(255, 0, 0, 0.1)"},children:["Unknown component type: ",t.type]})}}const fn=()=>{g(function(){sn()},[]);const e=_.value,t=b.value,n=x.value,a=j.value,s="connected"===a?"#10b981":"connecting"===a?"#f59e0b":"#ef4444",i="connected"===a?"Connected":"connecting"===a?"Connecting...":"Disconnected";return y("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:"2rem",textAlign:"center"},children:[y("div",{style:{position:"fixed",top:"1rem",right:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(30, 41, 59, 0.9)",border:"1px solid "+s,borderRadius:"2rem",fontSize:"0.875rem",fontWeight:"500",color:"#f1f5f9"},children:[y("div",{style:{width:"0.5rem",height:"0.5rem",borderRadius:"50%",background:s,boxShadow:"0 0 8px "+s}}),i]}),y("h1",{style:{fontSize:"3rem",marginBottom:"1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" Garmin Core Graphics HMI"}),y("p",{style:{fontSize:"1.25rem",color:"#94a3b8",marginBottom:"2rem",maxWidth:"600px"},children:"Lightweight Preact application for rendering dynamic UIs on Garmin EmpirBus HMI devices"}),t&&y("div",{style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"2rem",maxWidth:"500px"},children:[y("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),y("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem",color:"#e2e8f0"},children:"Loading Schema..."}),y("p",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:"Fetching and validating configuration"})]}),n&&!t&&y("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",padding:"2rem",maxWidth:"500px"},children:[y("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:""}),y("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#fca5a5"},children:"Schema Load Error"}),y("p",{style:{color:"#fca5a5",fontSize:"0.875rem",fontFamily:"monospace",background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"4px",wordBreak:"break-word"},children:n}),y("button",{onClick:function(){sn()},style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem"},children:"Retry"})]}),e&&!t&&!n&&y("div",{style:{width:"100%",maxWidth:"800px",padding:"2rem"},children:[y("div",{style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[y("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#10b981"},children:" Step 3: Component Factory"}),y("p",{style:{color:"#94a3b8",fontSize:"0.875rem",marginBottom:"1rem"},children:"Rendering components from schema. Click toggles to test interactivity!"}),y("div",{style:{fontSize:"0.875rem",color:"#cbd5e1"},children:[y("p",{style:{marginBottom:"0.5rem"},children:[y("strong",{children:"Schema:"})," ",e.metadata.name," v",e.metadata.version]}),y("p",{style:{marginBottom:"0.5rem"},children:[y("strong",{children:"Components:"})," ",e.tabs.reduce(function(e,t){return e+t.sections.reduce(function(e,t){return e+t.components.length},0)},0)]})]})]}),e.tabs&&e.tabs.length>0&&e.tabs[0]&&e.tabs[0].sections&&e.tabs[0].sections.length>0&&e.tabs[0].sections[0]&&y("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"2rem"},children:[y("h3",{style:{fontSize:"1.25rem",marginBottom:"1.5rem",color:"#e2e8f0"},children:e.tabs[0].sections[0].title}),y("div",{children:e.tabs[0].sections[0].components.map(function(e){return y(mn,{component:e},e.id)})})]}),y("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"6px",fontSize:"0.875rem",color:"#6ee7b7",textAlign:"center"},children:" Components rendering successfully!"})]}),y("div",{style:{marginTop:"2rem",fontSize:"0.875rem",color:"#64748b"},children:[y("p",{children:"Target: ES2017 | WebView 83 | Android 10"}),y("p",{style:{marginTop:"0.5rem"},children:"@gcg/hmi-ui v0.1.0"})]})]})};!function(e=!1){if(E)return;E=new C({autoConnect:!0,autoReconnect:!0,debug:e}),E.onOpen(function(){j.value="connected"}),E.onClose(function(){j.value="disconnected"}),E.onError(function(){j.value="disconnected"}),E.onMessage(function(e){!function(e){if(16!==e.messagetype)return;if(!e.data||e.data.length<2)return;const t=e.data[0],n=e.data[1];if("number"!=typeof t||"number"!=typeof n)return;const a=t|n<<8;switch(e.messagecmd){case 1:e.data.length>=3&&Z(a,{state:1===e.data[2],lastUpdated:Date.now()});break;case 3:if(e.data.length>=5){const t=e.data[2]||0,n=e.data[3],s=e.data[4];if("number"==typeof n&&"number"==typeof s){const e=n|s<<8,i=e>100?e/10:e;Z(a,{index:t,value:Math.max(0,Math.min(100,i)),lastUpdated:Date.now()})}}break;case 5:{let t;if(e.data.length>=8){const n=e.data[4],a=e.data[5];if("number"!=typeof n||"number"!=typeof a)break;t=(n|a<<8)>>>0}else{if(!(e.data.length>=4))break;{const n=e.data[2],a=e.data[3];if("number"!=typeof n||"number"!=typeof a)break;t=(n|a<<8)>>>0}}Z(a,{raw:t,lastUpdated:Date.now()});break}default:Z(a,{raw:e.data,lastUpdated:Date.now()})}}(e)});const t=E.getState();j.value="open"===t?"connected":"connecting"===t?"connecting":"disconnected"}("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname);const gn=document.getElementById("root");if(!gn)throw new Error("Root element not found");l(y(fn,{}),gn);
